<p-card>
 <p-toast key="tst" [style]="{marginTop: '70px'}"></p-toast>
    <form (ngSubmit)="save()">
        <div class="ui-g ui-fluid" *ngIf="usuario!=null">
            <div class=" ui-g-12 ui-md-6">
                <p-card>

                    <div style="text-align: center; margin-bottom: 0.5em;">
                        <h2 class="label-custom">Datos Personales</h2>
                    </div>

                    <div class="ui-g">
                        <div class="ui-g-6">
                            <h5 class="label-custom">Tipo documento (*)</h5>
                            <p-dropdown [style]="{'width':'100%'}" [options]="listTipoDocumento"
                                placeholder="Seleccione tipo documento" name="usuario.tipoDocumento"
                                [(ngModel)]="usuario.persona.tipoDocumento" optionLabel="abreviatura"
                                [showClear]="true">

                            </p-dropdown>
                        </div>
                        <div class="ui-g-6">
                            <h5 class="label-custom">Numero documento (*)</h5>
                            <input style="width: 100%;" type="text" name="usuario.persona.numeroDocumento"
                                [(ngModel)]="usuario.persona.numeroDocumento" [textMask]="{mask: numberMask}" minlength="8" maxlength="12" pInputText />

                        </div>
                        <div class="ui-g-6">
                            <h5 class="label-custom">Nombres (*)</h5>
                            <input style="width: 100%;" type="text" name="usuario.persona.nombre"
                                [(ngModel)]="usuario.persona.nombre" pInputText />

                        </div>
                        <div class="ui-g-6">
                            <h5 class="label-custom">Apellido paterno (*)</h5>
                            <input style="width: 100%;" type="text" name="usuario.persona.apePaterno"
                                [(ngModel)]="usuario.persona.apePaterno" pInputText />

                        </div>
                        <div class="ui-g-6">
                            <h5 class="label-custom">Apellido materno (*)</h5>
                            <input style="width: 100%;" type="text" name="usuario.persona.apeMaterno"
                                [(ngModel)]="usuario.persona.apeMaterno" pInputText />
                        </div>
                        <div class="ui-g-6">
                            <h5 class="label-custom">Correo (*)</h5>
                            <input style="width: 100%;" type="text" name="usuario.persona.correo"
                                [(ngModel)]="usuario.persona.correo" pInputText />
                        </div>
                        <div class="ui-g-6">
                            <h5 class="label-custom">Celular </h5>
                            <input style="width: 100%;" type="text" name="usuario.persona.celular"
                                [(ngModel)]="usuario.persona.celular" [textMask]="{mask: numberMask}" maxlength="9" pInputText />
                        </div>
                        <div class="ui-g-6">
                            <h5 class="label-custom">Dirección (*)</h5>
                            <input style="width: 100%;" type="text" name="usuario.persona.direccion"
                                [(ngModel)]="usuario.persona.direccion" pInputText />
                        </div>
                        <div class="ui-g-12">
                                <h5 class="label-custom">Foto  [SELECCIONE IMAGEN Y DAR CLICK EN BOTON SUBIR]</h5>

                               <p-fileUpload accept="image/*"
                               chooseLabel="Selecciona una imagen" uploadLabel="Subir imagen" accept="image/*" 
                               cancelLabel="Cancelar" name="file" 
                               (uploadHandler)="onFileUpload($event)" [customUpload]="true"
                               [multiple]="false" maxFileSize="10000000">
                                 <ng-template pTemplate="content">
                                     <ul *ngIf="uploadedFiles.length">
                                         <li *ngFor="let file of uploadedFiles">{{file.name}} -
                                             {{file.size}}
                                             bytes
                                         </li>
                                     </ul>
                                 </ng-template>
                             </p-fileUpload>

                             <div style="margin-top: 0.5rem;">
                                    <h5 class="label-custom">Imagen</h5>
                                    <input 
                                           style="width: 100%; margin-bottom: 0.2em"
                                           [(ngModel)]="usuario.persona.foto" class="form-control" name="usuario.persona.foto"
                                           id="imagenUp" type="text" disabled pInputText/>
              
                                  </div>
                        </div>

                    </div>

                </p-card>
            </div>

            <div class="ui-g-12 ui-md-6">
                <p-card>
                    <div style="text-align: center; margin-bottom: 0.5em;">
                        <h2 class="label-custom">Otros datos</h2>
                    </div>

                    <div class="ui-g">
                        <div class="ui-g-6">
                            <h5 class="label-custom">Ciudad (*)</h5>
                            <p-autoComplete field="descripcion" [(ngModel)]="usuario.persona.ubigeo" name="usuario.persona.ubigeo"
                            [suggestions]="filteredCities" (completeMethod)="filterCitiesByNombre($event)" [size]="30"
                            placeholder="Ingrese ubigeo" [minLength]="1">
                            <ng-template let-d pTemplate="item">
                                {{d.codDepartamento}}{{d.codProvincia}}{{d.codDistrito}} - {{d.descripcion}}
                            </ng-template>
                        </p-autoComplete>
                            <!-- <input style="width: 100%;" type="text" name="nombre" [(ngModel)]="nombre" pInputText /> -->

                        </div>

                        <div class="ui-g-6">
                            <h5 class="label-custom">Ocupación</h5>
                            <input style="width: 100%;" type="text" name="usuario.persona.ocupacion"
                                [(ngModel)]="usuario.persona.ocupacion" pInputText />

                        </div>

                        <div style="text-align: center;" class="ui-g-12 ui-md-12">
                                <img src="{{usuario.persona.foto}}"
                                width="350px" height="400px" class="img circular">
                        </div>
    

                    </div>

                  
                </p-card>

            </div>



        </div>


        <div style="text-align: center; margin-top: 1rem;">
            <button style="margin-right: 0.4rem" pButton type="submit" [label]="'Actualizar datos'"></button>
        </div>

    </form>
</p-card>